# GW-Currency-Wallet

## Описание сервиса

GW-Currency-Wallet - это микросервис для управления валютными счетами и операциями обмена. Сервис предоставляет REST API для выполнения различных финансовых операций с валютами, включая проверку баланса, пополнение и снятие средств, а также конвертацию между различными валютами.

## Функциональные возможности

- **Аутентификация пользователей**: Регистрация и вход с использованием JWT токенов
- **Управление балансом**: Проверка баланса в различных валютах
- **Операции с кошельком**: Пополнение и снятие средств
- **Обмен валют**: Конвертация между различными валютами по актуальным курсам
- **Уведомления**: Отправка уведомлений через Kafka о важных событиях

## Архитектура

Сервис построен с использованием следующих технологий:

- **Язык программирования**: Go
- **Веб-фреймворк**: Gin
- **База данных**: PostgreSQL
- **Сообщения**: Apache Kafka
- **API документация**: Swagger
- **Протоколы**: gRPC для внутренних сервисов
- **Контейнеризация**: Docker

## Стек технологий

- Go 1.25
- PostgreSQL
- Apache Kafka
- Docker
- gRPC
- JWT для аутентификации
- Swagger для документации API

## Конфигурация

Сервис использует конфигурационный файл `config.yml`, который содержит настройки:
- Порт HTTP сервера
- Адрес внешнего сервиса обмена
- Параметры подключения к базе данных
- Настройки JWT
- Параметры подключения к Kafka

## Запуск сервиса

### Локальный запуск
```bash
go run cmd/main.go
```

### Запуск в Docker
```bash
docker build -t gw-currency-wallet .
docker run -p 8080:8080 gw-currency-wallet
```

## API endpoints

### Публичные маршруты:
- `POST /api/v1/register` - регистрация пользователя
- `POST /api/v1/login` - вход пользователя

### Защищенные маршруты (требуют JWT токен):
- `GET /api/v1/balance/:currency` - получить баланс в указанной валюте
- `GET /api/v1/balance` - получить общий баланс
- `POST /api/v1/exchange` - обмен валют
- `GET /api/v1/exchange/rates` - получить текущие курсы обмена
- `POST /api/v1/wallet/deposit` - пополнить баланс
- `POST /api/v1/wallet/withdraw` - снять средства

## Документация API

Документация API доступна через Swagger UI по адресу: `http://localhost:8080/swagger/index.html`